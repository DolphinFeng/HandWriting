<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        /* 设置图片项的样式 */
        .img-item {
            display: block;
            height: 300px;
            margin-top: 50px;
        }
    </style>
</head>
<body>
    <!-- 图片元素，初始时 src 为空，data-original 存储实际图片地址 -->
    <img class='img-item' src="" data-original="https://th.bing.com/th?id=ORMS.5053ecdbef05fa7726aa489d27b52e40&pid=Wdp&w=612&h=304&qlt=90&c=1&rs=1&dpr=1.25&p=0" alt="">
    <img class='img-item' src="" data-original="https://th.bing.com/th?id=ORMS.c5db2c88af1a76f18d0efe02fcded91d&pid=Wdp&w=612&h=304&qlt=90&c=1&rs=1&dpr=1.25&p=0" alt="">
    <img class='img-item' src="" data-original="https://th.bing.com/th?id=ORMS.c5129de8701c4a933d92cd6bf832b233&pid=Wdp&w=300&h=156&qlt=90&c=1&rs=1&dpr=1.25&p=0" alt="">
    <img class='img-item' src="" data-original="https://th.bing.com/th?id=ORMS.afe7f6448d6eba0055cd8ce9ac9fdf62&pid=Wdp&w=300&h=156&qlt=90&c=1&rs=1&dpr=1.25&p=0" alt="">
    <img class='img-item' src="" data-original="https://th.bing.com/th?id=ORMS.e168b9c5da30772083104ed0f4ef0ecf&pid=Wdp&w=612&h=304&qlt=90&c=1&rs=1&dpr=1.25&p=0" alt="">
    <img class='img-item' src="" data-original="https://th.bing.com/th?id=ORMS.8025ce5a977b3826589022cede69e110&pid=Wdp&w=300&h=156&qlt=90&c=1&rs=1&dpr=1.25&p=0" alt="">
    <img class='img-item' src="" data-original="https://th.bing.com/th?id=ORMS.a58ae29e32e20a27d498eed19528ee3c&pid=Wdp&w=300&h=156&qlt=90&c=1&rs=1&dpr=1.25&p=0" alt="">
    <img class='img-item' src="" data-original="https://th.bing.com/th?id=ORMS.2049b527600b31b2cd863a380be59848&pid=Wdp&w=300&h=156&qlt=90&c=1&rs=1&dpr=1.25&p=0" alt="">
    <img class='img-item' src="" data-original="https://th.bing.com/th?id=ORMS.9f51912b8b6c19a9891b380ad526db85&pid=Wdp&w=612&h=304&qlt=90&c=1&rs=1&dpr=1.25&p=0" alt="">
    <img class='img-item' src="" data-original="https://th.bing.com/th?id=ORMS.1b6375ea147b5704f9d073a326e1fc2a&pid=Wdp&w=300&h=156&qlt=90&c=1&rs=1&dpr=1.25&p=0" alt="">

    <script>
        // 获取视口高度
        let viewHeight = window.innerHeight

        // 懒加载函数
        function lazyLoad() {
            // 获取所有带有 data-original 属性的图片
            let imgs = document.querySelectorAll('img[data-original]') 
            imgs.forEach(el => {
                // 获取图片相对于视口的位置
                let rect = el.getBoundingClientRect() // 包含边框，不包含是 clientWidth
                // 如果图片的顶部位置在视口内
                if(rect.top < viewHeight) {
                    // 创建一个新的 Image 对象
                    let image = new Image()
                    // 设置 Image 对象的 src 为 data-original 的值
                    image.src = el.dataset.original
                    // 当图片加载完成后，将其 src 赋值给原图片
                    image.onload = function() {
                        el.src = image.src 
                    }
                    // 移除 data-original 属性
                    el.removeAttribute('data-original') 
                }
            })
        }

        // 页面初始加载时调用一次懒加载函数
        lazyLoad() 
        // 监听滚动事件，触发懒加载函数
        document.addEventListener('scroll', lazyLoad)
    </script>        
</body> 
</html>
