<script>
    let ev1 = new Event('first')
    let ev2 = new Event('second')

    function A () {
        setTimeout(() => {
            console.log('A');
            window.dispatchEvent(ev1)
        }, 1000)
    }

    function B () {
        setTimeout(() => {
            console.log('B');
            window.dispatchEvent(ev2)
        }, 500)
    }

    function C () {
        console.log('C');
    }

    A()
    window.addEventListener('first', B)
    window.addEventListener('second', C)
</script>